!function($){var e;$.getJSON("json/data.json",(function(t){e=t;var n=new ScrollMagic.Controller,s=e.length,o=0,a=0,r=0;function i(){$(".nb-question").html(s),$(".nb-correct").html(a),$(".percent-correct").html(r),o===s&&$(".warning").fadeOut()}i(),function(e){var t=$("#question-template").html(),n=Handlebars.compile(t),s=e.map((function(t,n){return{...t,index:n,totalQuestions:e.length}})),o=n({question:s});$(".questions").prepend(o)}(e),$(".answer").on("click",(function(){if(!$(this).closest(".question").hasClass("answered")){o+=1;var t=$(this).closest(".question").attr("id").replace("q",""),n=$(this).index(),l=e[t].questionAnswers[n].answerIsTrue,c=e[t].questionHint;l?($(this).addClass("correct"),c&&$(this).closest(".question").find(".hint").html('<span class="font-semibold underline decoration-2">Explications:</span> '+c),a+=1):($(this).addClass("error"),$(this).closest(".question").find(".answer").each((function(){e[t].questionAnswers[$(this).index()].answerIsTrue&&$(this).addClass("correct")})),c&&$(this).closest(".question").find(".hint").html('<span class="font-semibold underline decoration-2">Explications:</span> '+c)),$(this).closest(".question").addClass("answered"),r=(100/s*a).toFixed(2),i()}}));var l=$(".sumup"),c=$(".gauge"),u=c.find(".gauge-cursor"),p=c.find(".gauge-bg"),d=l.find(".nb-results"),h=l.find(".percent-results"),f=l.find(".final-text"),g=l.find(".btn-redo"),m=l.find(".btn-shar");(new TimelineMax).set(l,{autoAlpha:.3,transformOrigin:"center center"}).set(p,{autoAlpha:0,y:"-=10px",transformOrigin:"center center"}).set(u,{autoAlpha:0,y:"-=20px",transformOrigin:"center center"}).set(d,{autoAlpha:0,y:"-=10px",transformOrigin:"center center"}).set(h,{autoAlpha:0,y:"-=10px",transformOrigin:"center center"}).set(f,{autoAlpha:0,transformOrigin:"center center"}).set(g,{autoAlpha:0,y:"-=10px",transformOrigin:"center center"}).set(m,{autoAlpha:0,y:"-=10px",transformOrigin:"center center"});var w=!1;function x(){$(".nb-correct").counterUp({delay:10,time:1e3})}function O(){$(".percent-correct").counterUp({delay:10,time:1e3})}new ScrollMagic.Scene({triggerElement:".gauge"}).on("enter",(function(e){o===s&&(0==w&&(100==r&&(r=95),new TimelineMax({paused:!0}).to(l,.3,{autoAlpha:1,ease:Power4.easeInOut}).to(p,1,{autoAlpha:1,y:"+=10px",ease:Power4.easeInOut}).to(u,.5,{autoAlpha:1,y:"+=20px",ease:Power4.easeInOut,onComplete:x},"-=0.5").to(d,.3,{autoAlpha:1,y:"+=10px",ease:Power4.easeInOut}).to(u,2,{left:r+"%",ease:Power4.easeInOut,onComplete:O}).to(h,.3,{autoAlpha:1,y:"+=10px",ease:Power4.easeInOut}).to(f,.3,{autoAlpha:1,ease:Power4.easeInOut},"+=1.5").to(g,.7,{autoAlpha:1,y:"+=10px",ease:Power4.easeInOut},"+=1.7").to(m,.7,{autoAlpha:1,y:"+=10px",ease:Power4.easeInOut}).play(),w=!0))})).triggerHook(.6).addTo(n),$(".btn-shar").on("click",(function(){$(".aside-r-toggle").click()}))})).fail((function(e,t,n){console.error("No quiz data found",t,n)})),window.scrollTo(0,0),setTimeout((function(){$("body").addClass("is-visible")}),1e3),Handlebars.registerHelper("indexFormatter",(function(e){return e+1}))}(jQuery);